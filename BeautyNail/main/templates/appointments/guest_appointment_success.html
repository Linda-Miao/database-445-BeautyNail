{% extends 'base.html' %}
{% block title %}Appointment Created Successfully{% endblock %}

{% block extra_head %}
<style>
.success-wrap{max-width:880px;margin:2rem auto;}
.success-hero{background:linear-gradient(135deg,#e91e63,#ad1457);color:#fff;border-radius:14px;padding:1.25rem 1.5rem;margin-bottom:1.25rem;}
.success-hero h2{margin:0 0 .25rem 0;font-size:1.6rem;}
.success-hero p{margin:0;opacity:.95;}
.card{background:#fff;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.08);padding:1.25rem;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:.75rem 1.25rem;}
.grid .full{grid-column:1/-1;}
ul.clean{margin:.25rem 0 0 1rem;}
.actions{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:1rem;}
.actions a{padding:.6rem 1rem;border-radius:24px;text-decoration:none;border:2px solid transparent}
.actions .primary{background:#e91e63;color:#fff;}
.actions .ghost{border-color:#e91e63;color:#e91e63;background:transparent;}
@media (max-width:720px){.grid{grid-template-columns:1fr;}}
</style>
{% endblock %}

{% block content %}
<div class="container success-wrap">
  <div class="success-hero">
    <h2>Appointment Created Successfully</h2>
    <p>
      A customer account was created with
      <strong>username = your email</strong> and
      <strong>password = your phone number</strong>.
      You can now log in to view your appointment.
    </p>
  </div>

  <div class="card">
    <h3 class="mb-3">Appointment Summary</h3>
    <div class="grid">
      <div><strong>Appointment #:</strong> {{ item.id }}</div>
      <div><strong>Status:</strong> {{ item.status|title }}</div>

      <div><strong>Date:</strong> {{ item.date|date:"F j, Y" }}</div>
      <div><strong>Time:</strong> {{ item.start|time:"g:i A" }} – {{ item.end|time:"g:i A" }}</div>

      <div><strong>Staff:</strong> {{ item.staff_name }}</div>
      <div><strong>Total:</strong> ${{ item.total|floatformat:2 }}</div>

      <div class="full"><strong>Customer:</strong> {{ item.cust_first }} {{ item.cust_last }}</div>
      <div><strong>Email:</strong> {{ item.cust_email }}</div>
      <div><strong>Phone:</strong> {{ item.cust_phone }}</div>

      <div class="full">
        <strong>Services:</strong>
        {% if item.services %}
          <ul class="clean">
            {% for s in item.services %}
              <li>
                {{ s.name }} — ${{ s.price|floatformat:2 }}
                {% if s.color %}(Color: {{ s.color }}){% endif %}
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <div>Not sure yet — you’ll decide during consultation.</div>
        {% endif %}
      </div>
    </div>

    <div class="actions">
      <a href="{% url 'login' %}" class="primary">Log In</a>
      <a href="{% url 'home' %}" class="ghost">Back to Home</a>
    </div>
  </div>
</div>
{% endblock %}

{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <div>

      {% if request.GET.mode == 'register' %}
    <h2 class="text-center mb-4">Register</h2>
  {% else %}
    <h2 class="text-center mb-4">Add New Customer</h2>
  {% endif %}
   
    <form method="post" action="{% url 'customer_add' %}">
      {% csrf_token %}
      <table>
        <tr>
          <td><label for="first_name">First Name:</label></td>
          <td><input type="text" name="first_name" id="first_name" required></td>
        </tr>
        <tr>
          <td><label for="last_name">Last Name:</label></td>
          <td><input type="text" name="last_name" id="last_name" required></td>
        </tr>
        <tr>
          <td><label for="phone">Phone:</label></td>
          <td><input type="text" name="phone" id="phone" required></td>
        </tr>
        <tr>
          <td><label for="email">Email:</label></td>
          <td><input type="email" name="email" id="email"></td>
        </tr>
        <tr>
          <td><label for="date_of_birth">Date of Birth:</label></td>
          <td><input type="date" name="date_of_birth" id="date_of_birth"></td>
        </tr>
        <tr>
          <td><label for="allergies">Allergies:</label></td>
          <td><input type="text" name="allergies" id="allergies"></td>
        </tr>
        <tr>
          <td><label for="preferred_color">Preferred Color:</label></td>
          <td><input type="text" name="preferred_color" id="preferred_color"></td>
        </tr>
        <tr>
          <td><label for="loyalty_points">Loyalty Points:</label></td>
          <td><input type="number" name="loyalty_points" id="loyalty_points" min="0" value="0"></td>
        </tr>
        <!-- Auth fields -->
        <tr>
          <td><label for="username">Username for login:</label></td>
          <td><input type="text" name="username" id="username" placeholder="optional"></td>
        </tr>
        <tr>
          <td><label for="password">Password:</label></td>
          <td><input type="password" name="password" id="password" placeholder="optional"></td>
        </tr>
        <tr>
          <td><label for="is_active">Status:</label></td>
          <td>
            <select name="is_active" id="is_active">
              <option value="1" selected>Active</option>
              <option value="0">Inactive</option>
            </select>
          </td>
        </tr>
        <tr>
          <td colspan="2" style="text-align:center; padding-top:12px;">
            <button type="submit" class="btn btn-success me-2">Add</button>
            <a href="{% url 'customer_list' %}" class="btn btn-secondary">Cancel</a>
          </td>
        </tr>
      </table>
    </form>
  </div>
</div>
{% endblock %}

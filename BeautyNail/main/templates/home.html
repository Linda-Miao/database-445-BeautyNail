{% extends 'base.html' %}
{% load static %}
{% block title %}Home - BeautyNailNet{% endblock %}

{% block extra_head %}
<style>
/* ===== Home page styles ===== */
.home-hero{background:linear-gradient(rgba(233,30,99,.1),rgba(233,30,99,.1)),url("{% static 'images/banner.jpg' %}");
 background-size:cover;background-position:center;padding:5rem 0;text-align:center;margin:2rem 0;border-radius:15px;}
.home-hero h2{font-size:3rem;color:#2c2c2c;margin-bottom:1rem;}
.home-hero p{font-size:1.3rem;color:#666;max-width:600px;margin:0 auto 2rem auto;}
.cta-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;}
.cta-btn{background:#e91e63;color:#fff;padding:1rem 2rem;border:none;border-radius:25px;cursor:pointer;font-size:1.1rem;text-decoration:none;display:inline-block;}
.cta-btn.secondary{background:transparent;color:#e91e63;border:2px solid #e91e63;}
.home-about{background:#fff;padding:3rem;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,.1);margin:3rem 0;text-align:center;}
.home-about h3{font-size:2rem;color:#2c2c2c;margin-bottom:1rem;}
.home-about p{color:#666;line-height:1.8;font-size:1.1rem;max-width:800px;margin:0 auto;}
.services-highlight{margin:3rem 0;}
.services-highlight h3{text-align:center;font-size:2.5rem;color:#2c2c2c;margin-bottom:2rem;}
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;}
.service-card{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,.1);text-align:center;}
.service-card h4{color:#e91e63;font-size:1.3rem;margin-bottom:.5rem;}
.service-card .price{font-size:1.5rem;font-weight:700;color:#2c2c2c;margin:.5rem 0;}
.service-card p{color:#666;font-size:.9rem;margin:0;}
.events-highlight{margin:3rem 0;}
.events-highlight h3{text-align:center;font-size:2.5rem;color:#2c2c2c;margin-bottom:2rem;}
.events-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;}
.event-card{background:#fff;padding:2rem;border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,.1);text-align:center;}
.event-card h4{color:#e91e63;font-size:1.3rem;margin-bottom:.5rem;}
.event-card .dates{font-size:.95rem;color:#333;margin:.25rem 0 .75rem;}
.event-card p{color:#666;font-size:.9rem;margin:0;}
.event-card img{max-width:100%;height:auto;max-height:250px;border-radius:10px;margin-bottom:.75rem;}
</style>
{% endblock %}

{% block content %}
<div class="container px-0">
  <!-- Hero Section -->
  <section class="home-hero">
    <h2>Luxury Nail Care in Lacey, Washington</h2>
    <p>Experience professional nail artistry in a relaxing, modern environment. From classic manicures to creative nail art, we bring your vision to life with precision and care.</p>
    <div class="cta-buttons">

      {% if request.user.is_authenticated %}
  <a class="cta-btn"
     href="{% url 'my_appointment_add' %}">
    Book Appointment
  </a>
{% else %}
  <a class="cta-btn"
     href="{% url 'guest_appointment_add' %}">
    Book Appointment
  </a>
{% endif %}
      <a href="/services_home/" class="cta-btn secondary">View Services</a>
    </div>
  </section>

  <!-- About Section -->
  <section class="home-about">
    <h3>Welcome to BeautyNailNet</h3>
    <p>At BeautyNailNet, we believe that beautiful nails are an expression of your unique style. Our skilled technicians use premium products and the latest techniques to deliver exceptional results that last. Whether you're looking for a classic French manicure, intricate nail art, or a relaxing pedicure, we create a personalized experience that leaves you feeling confident and beautiful.</p>
  </section>

  <!-- Services Highlight -->
  <section class="services-highlight">
  <h3>Popular Services</h3>

  {% if popular_services %}
    <div class="services-grid">
      {% for s in popular_services %}
        <div class="service-card">
          <h4>{{ s.service_name }}</h4>
          <div class="price">${{ s.base_price|floatformat:0 }}</div>
          <p>{{ s.description|default:"-" }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-muted">No service usage yet.</p>
  {% endif %}
</section>

<section class="events-highlight">
  <h3>Happening Now</h3>

  {% if active_events %}
    <div class="events-grid">
      {% for e in active_events %}
        <div class="event-card">
          {% if e.image %}
            <img src="{% static e.image %}" alt="{{ e.event_name }}">
          {% endif %}
          <h4>{{ e.event_name }}</h4>
          <div class="dates">
            {{ e.start_date|date:"M d, Y" }}
            {% if e.end_date %} â€“ {{ e.end_date|date:"M d, Y" }}{% endif %}
          </div>
          <p>{{ e.description|default:"-" }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-muted">No events are active today.</p>
  {% endif %}
</section>
</div>
{% endblock %}
